@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Glass effect utilities ────────────────────────────────── */
@layer utilities {
  .glass {
    @apply backdrop-blur-xl bg-white/[0.07] border border-white/[0.12];
  }
}

/* ── Gauge / SVG animations ────────────────────────────────── */
@keyframes gauge-fade-in {
  from {
    opacity: 0;
    transform: scale(0.85);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.gauge-enter {
  animation: gauge-fade-in 0.5s ease-out both;
}

/* ── Spinner for loading states ────────────────────────────── */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ── Results table ─────────────────────────────────────────── */
.results-container {
  @apply overflow-x-auto;
  -webkit-overflow-scrolling: touch;
}

/* Title above table (FOSMIS injects a <font color="red"> heading) */
.results-container font[color="red"] {
  @apply block text-sm font-semibold text-indigo-700 mb-3 text-center py-2 bg-indigo-50 rounded-lg;
}

/* Table base */
.results-container table {
  @apply min-w-full;
  border-collapse: separate;
  border-spacing: 0;
}

/* Header */
.results-container th {
  @apply px-4 py-3 text-center text-[11px] font-semibold uppercase tracking-wider;
  @apply bg-gradient-to-b from-slate-700 to-slate-800 text-white;
  @apply border-b-2 border-indigo-500;
}

.results-container th:first-child {
  @apply text-left;
}

/* Cells */
.results-container td {
  @apply px-4 py-3 text-sm text-gray-600;
  @apply border-b border-gray-50;
}

/* Striped rows */
.results-container tr.trbgc:nth-child(even) {
  @apply bg-gray-50/60;
}

.results-container tr.trbgc:nth-child(odd) {
  @apply bg-white;
}

/* Hover */
.results-container tr.trbgc {
  @apply hover:bg-indigo-50/60 transition-colors duration-150;
}

.results-container tr.trbgc td {
  @apply align-middle;
}

/* ── Column 1: Subject code ─────────────────────── */
.results-container td:nth-child(1) {
  @apply font-mono text-xs text-indigo-600 font-semibold whitespace-nowrap;
}

/* ── Column 2: Subject name ─────────────────────── */
.results-container td:nth-child(2) {
  @apply text-gray-800 font-medium;
}

/* ── Column 3: Grade — colored by tier ──────────── */
.results-container td:nth-child(3) {
  @apply font-bold text-center;
}

.results-container
  td:nth-child(3)[align="center"]:is([innerText="A+"], [innerText="A"]) {
  @apply text-emerald-600;
}

.results-container
  td:nth-child(3)[align="center"]:is([innerText="A-"], [innerText="B+"]) {
  @apply text-blue-600;
}

.results-container
  td:nth-child(3)[align="center"]:is([innerText="B"], [innerText="B-"]) {
  @apply text-amber-600;
}

.results-container
  td:nth-child(3)[align="center"]:is(
    [innerText="C+"],
    [innerText="C"],
    [innerText="C-"]
  ) {
  @apply text-orange-500;
}

.results-container
  td:nth-child(3)[align="center"]:is(
    [innerText="D+"],
    [innerText="D"]
  ) {
  @apply text-red-400;
}

.results-container
  td:nth-child(3)[align="center"]:is(
    [innerText="E"],
    [innerText="E*"],
    [innerText="E+"],
    [innerText="E-"],
    [innerText="F"]
  ) {
  @apply text-red-600;
}

/* ── Column 4: Year ─────────────────────────────── */
.results-container td:nth-child(4) {
  @apply text-gray-400 text-xs text-center tabular-nums;
}

/* ── Responsive ────────────────────────────────────────────── */

/* Mobile portrait */
@media (max-width: 639px) {
  .results-container table {
    @apply text-xs;
  }

  .results-container th {
    @apply px-2 py-2 text-[9px];
  }

  .results-container td {
    @apply px-2 py-2 text-xs;
  }

  .results-container td:nth-child(1) {
    @apply text-[10px];
  }

  .results-container td:nth-child(2) {
    @apply text-xs;
  }
}

/* Tablet */
@media (min-width: 640px) and (max-width: 767px) {
  .results-container th,
  .results-container td {
    @apply px-3 py-2.5;
  }
}

/* Touch-friendly selects */
@media (max-width: 639px) {
  select {
    @apply text-base; /* Prevents iOS zoom on focus */
  }
}
